<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\Member\Util; use ModStart\Core\Dao\ModelUtil; class MemberAddressUtil { public static function getUserAddress($MqkYF, $wa91I) { goto QwG9U; AOS73: ModelUtil::decodeRecordBoolean($NZ_6d, array('isDefault')); goto SIbow; SIbow: return $NZ_6d; goto AMunv; QwG9U: $NZ_6d = ModelUtil::get('member_address', array('id' => $wa91I, 'memberUserId' => $MqkYF)); goto AOS73; AMunv: } public static function listUserAddresses($MqkYF) { goto GNZlX; zNlE5: ModelUtil::decodeRecordsBoolean($v39Ud, array('isDefault')); goto YDdoJ; YDdoJ: return $v39Ud; goto CN0lF; GNZlX: $v39Ud = ModelUtil::model('member_address')->where(array('memberUserId' => $MqkYF))->orderBy('id', 'desc')->orderBy('isDefault', 'desc')->get()->toArray(); goto zNlE5; CN0lF: } public static function delete($wa91I) { ModelUtil::delete('member_address', array('id' => $wa91I)); } public static function resetDefault($MqkYF) { ModelUtil::update('member_address', array('memberUserId' => $MqkYF), array('isDefault' => false)); } public static function update($wa91I, $GeXSC) { return ModelUtil::update('member_address', array('id' => $wa91I), $GeXSC); } public static function insert($GeXSC) { return ModelUtil::insert('member_address', $GeXSC); } public static function getDefault($MqkYF) { goto QeiTF; JIHbl: if (empty($cWs18)) { $cWs18 = ModelUtil::get('member_address', array('memberUserId' => $MqkYF)); } goto SqFc0; QeiTF: $cWs18 = ModelUtil::get('member_address', array('memberUserId' => $MqkYF, 'isDefault' => true)); goto JIHbl; SqFc0: return $cWs18; goto tMgAd; tMgAd: } public static function clearDefault($MqkYF) { ModelUtil::update('member_address', array('memberUserId' => $MqkYF), array('isDefault' => false)); } public static function truncate($MqkYF) { ModelUtil::delete('member_address', array('memberUserId' => $MqkYF)); } }