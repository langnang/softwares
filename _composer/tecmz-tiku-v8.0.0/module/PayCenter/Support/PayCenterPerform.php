<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\PayCenter\Support; use ModStart\Core\Exception\BizException; use ModStart\Core\Input\InputPackage; use ModStart\Core\Input\Response; use Module\PayCenter\Util\PayOrderUtil; class PayCenterPerform { public function performSubmitOrder($PeuNd, $G_Ybp, $DO0wP, $VhHmv, $oG0tD = array()) { goto arttm; H8ueM: return Response::generate(0, null, array('payUrl' => $HjCh2, 'orderSecretId' => $HKhEA), $HjCh2); goto NQfKg; edtX3: $IfVKl = PayOrderUtil::prepareOrder($PeuNd, $G_Ybp, $DO0wP, $VhHmv, $UYUrz, $oG0tD); goto qsvie; arttm: $bz1sB = InputPackage::buildFromInput(); goto B2jzc; qsvie: $HKhEA = PayOrderUtil::getOrderSecretId($IfVKl['id']); goto RAg5G; RAg5G: $HjCh2 = modstart_web_url('pay', array('order' => $HKhEA)); goto H8ueM; B2jzc: $UYUrz = $bz1sB->getTrimString('redirect'); goto edtX3; NQfKg: } public function performRedirectOrderPay($PeuNd, $G_Ybp, $DO0wP = null, $VhHmv = null, $UYUrz = null, $oG0tD = array()) { $BEdDh = $this->performRedirectOrderPayUrl($PeuNd, $G_Ybp, $DO0wP, $VhHmv, $UYUrz, $oG0tD); return Response::redirect($BEdDh['data']['payUrl']); } private function performRedirectOrderPayUrl($PeuNd, $G_Ybp, $DO0wP = null, $VhHmv = null, $UYUrz = null, $oG0tD = array()) { goto xnxeM; eczto: $HKhEA = PayOrderUtil::getOrderSecretId($IfVKl['id']); goto IkXKU; xnxeM: $IfVKl = PayOrderUtil::prepareOrder($PeuNd, $G_Ybp, $DO0wP, $VhHmv, $UYUrz, $oG0tD); goto eczto; imlzL: return Response::generateSuccessData(array('payUrl' => $HjCh2)); goto ysXmR; IkXKU: $HjCh2 = modstart_web_url('pay') . "?order={$HKhEA}"; goto imlzL; ysXmR: } }