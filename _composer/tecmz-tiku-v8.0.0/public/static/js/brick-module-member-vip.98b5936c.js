(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["brick-module-member-vip"],{"013c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c975"),i("a9e3"),i("ac1f"),i("5319"),i("acd8");var r={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},o={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(t){return-1!==["dark","light"].indexOf(t)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var t=this,e=getCurrentPages()[0];this.$pageVm=e.$vm||e,uni.onWindowResize((function(e){t.$emit("resize",e)})),this.$pageVm.$on("hook:onPageScroll",(function(e){t.$emit("scroll",e)})),this.$watch("backgroundTextStyle",(function(){t.setBackgroundTextStyle()})),this.$watch((function(){return[t.rootFontSize,t.pageStyle]}),(function(){t.setPageMeta()})),this.$watch((function(){return[t.backgroundColor,t.backgroundColorTop,t.backgroundColorBottom]}),(function(){t.setBackgroundColor()})),this.$watch((function(){return[t.scrollTop,t.scrollDuration]}),(function(){t.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle(),this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(t,e){t.setStyle({pullToRefresh:{support:e,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var t=this,e=String(this.scrollTop);if(-1!==e.indexOf("rpx")&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)){var i=function i(o){o.scrollTop===e&&(t.$pageVm.$off("hook:onPageScroll",i),t.$emit("scrolldone",r))};uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:function(){t.$pageVm.$on("hook:onPageScroll",i)}})}}}};e.default=o},"4a9c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StoreBaseConfigMixin=e.StoreUserMixin=void 0,i("ac1f"),i("5319");var r=i("2f62"),o=i("077c"),a=i("d2b8"),n={computed:(0,r.mapState)({user:function(t){return t.user.user}}),methods:{requireUserLogined:function(t){this.user.id?t():this.$dialog.tipError("请登录",(function(){return o.Router.replace(a.SystemSetting.route.login,{redirect:o.Router.pathWithQueries()})}))}}};e.StoreUserMixin=n;var c={computed:(0,r.mapState)({config:function(t){return t.base.config}})};e.StoreBaseConfigMixin=c},"4f88":function(t,e,i){"use strict";i.r(e);var r=i("8d65"),o=i.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=o.a},6688:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var r={pageMeta:i("6d42").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("page-meta",{attrs:{"root-font-size":"20px"}}),i("page-header",{attrs:{title:"会员VIP开通/续费"}}),t.user.id?i("v-uni-view",{staticClass:"pb-member-vip"},[i("v-uni-view",{staticClass:"body"},[i("v-uni-view",{staticClass:"vip-current"},[t._v("您当前是"),i("v-uni-text",{staticClass:"ub-color-vip ub-text-bold"},[t._v(t._s(t.user.vip.title))]),t.user.vipExpire?i("v-uni-text",[t._v("， 过期时间为："+t._s(t.user.vipExpire))]):t._e()],1),i("v-uni-view",{staticClass:"vip-list"},[t._l(t.vips,(function(e,r){return[e.isDefault?t._e():i("v-uni-view",{key:r+"_0",staticClass:"item",class:{active:t.vipActiveId===e.id},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.doVipActive(e.id)}}},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),i("v-uni-view",{staticClass:"content"},[i("v-uni-rich-text",{staticClass:"ub-html",attrs:{nodes:e.content||""}})],1)],1)]}))],2),t.vipCalc?i("v-uni-view",{staticClass:"pay-price"},[i("span",{staticClass:"ub-text-warning"},[t._v(t._s(t.vipCalc.type))]),t._v("需要支付"),i("span",{staticClass:"ub-text-warning"},[t._v("￥")]),i("span",{staticClass:"ub-text-warning"},[t._v(t._s(t.vipCalc.price))]),i("br"),t._v("购买后"),i("span",{staticClass:"ub-text-warning"},[t._v(t._s(t.vipCalc.expire))]),t._v("过期")]):t._e(),i("v-uni-view",{staticClass:"pay-submit"},[i("v-uni-view",{staticClass:"btn btn-primary btn-lg btn-block",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSubmit.apply(void 0,arguments)}}},[t._v("提交续费")])],1)],1)],1):t._e()],1)},a=[]},"6d42":function(t,e,i){"use strict";i.r(e);var r=i("d630"),o=i("8f28");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var n,c=i("f0c5"),s=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],n);e["default"]=s.exports},"7d9c":function(t,e,i){"use strict";var r=i("defc"),o=i.n(r);o.a},"8d65":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("4de4");var r=i("4a9c"),o={name:"vip",mixins:[r.StoreUserMixin,r.StoreBaseConfigMixin],data:function(){return{vips:[],vipActiveId:0,vipCalc:null}},onReady:function(){var t=this;this.$starter.boot((function(){return t.init()}))},methods:{init:function(){var t=this;this.$api.post("member_vip/all",{},(function(e){t.vips=e.data;var i=t.vips.filter((function(t){return!t.isDefault}));i.length>0&&(t.vipActiveId=i[0].id)}))},doVipActive:function(t){var e=this;this.vipActiveId=t,this.$api.post("member_vip/calc",{vipId:this.vipActiveId},(function(t){e.vipCalc=t.data}))},doSubmit:function(){var t=this;this.$dialog.loadingOn(),this.$api.post("member_vip/buy",{vipId:this.vipActiveId,redirect:this.$r.pathToUrl("/pages/member/index")},(function(e){t.$dialog.loadingOff(),t.$r.to("/brick/module/pay_center/pay?order=".concat(e.data.orderSecretId))}),(function(e){return t.$dialog.loadingOff()}))}}};e.default=o},"8f28":function(t,e,i){"use strict";i.r(e);var r=i("013c"),o=i.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=o.a},d02a:function(t,e,i){"use strict";i.r(e);var r=i("6688"),o=i("4f88");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("7d9c");var n,c=i("f0c5"),s=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,"1267dd3c",null,!1,r["a"],n);e["default"]=s.exports},d630:function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{display:"none"}},[t._t("default")],2)},a=[]},defc:function(t,e,i){var r=i("edeb");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=i("4f06").default;o("660154f1",r,!0,{sourceMap:!1,shadowMode:!1})},edeb:function(t,e,i){var r=i("4bad");e=r(!1),e.push([t.i,"[data-v-1267dd3c]:root,\nuni-page-body[data-v-1267dd3c]{--color-primary:var(--theme-color-primary,#698af4);--color-primary-light:var(--theme-color-primary-light,#819df6);--color-primary-dark:var(--theme-color-primary-dark,#5177f2);--color-success:var(--theme-color-success,#28a745);--color-success-dark:var(--theme-color-success-dark,#1e7e34);--color-warning:var(--theme-color-warning,#fd7e14);--color-warning-dark:var(--theme-color-warning-dark,#dc6502);--color-danger:var(--theme-color-danger,#dc3545);--color-danger-dark:var(--theme-color-danger-dark,#bd2130);--color-link:var(--theme-color-link,#007bff);--color-link-light:var(--theme-color-link-light,#0062cc);--color-link-dark:var(--theme-color-link-dark,#3395ff);--color-default:var(--theme-color-default,#f7f7f7);--color-input-placeholder:var(--theme-color-input-placeholder,#c4cfdb);--size-radius:var(--theme-size-radius,0.25rem);--size-margin:var(--theme-size-margin,0.5rem);--size-margin-lg:var(--theme-size-margin-lg,2rem);--size-margin-1-2:var(--theme-size-margin-1-2,0.25rem);--size-margin-1-2-negative:var(--theme-size-margin-1-2-negative,-0.25rem);--font-size-root:var(--theme-font-size-root,20px);--font-size:var(--theme-font-size,0.65rem);--font-size-medium:var(--theme-font-size,0.8rem);--font-size-large:var(--theme-font-size-large,1rem);--font-size-small:var(--theme-font-size-small,0.6rem);--container-width:var(--theme-container-width,55rem)}[data-v-1267dd3c]:root,\nuni-page-body[data-v-1267dd3c]{--color-primary:var(--theme-color-primary,#698af4);--color-primary-light:var(--theme-color-primary-light,#819df6);--color-primary-dark:var(--theme-color-primary-dark,#5177f2)}.pb-member-vip .vip-current[data-v-1267dd3c]{padding:.5rem}.pb-member-vip .vip-list .item[data-v-1267dd3c]{margin:.5rem;background:#fff;box-shadow:0 0 8px 0 #e5e5e5;border-radius:8px;cursor:pointer;border:3px solid #fff;position:relative;padding:.5rem}.pb-member-vip .vip-list .item.active[data-v-1267dd3c]{border:3px solid var(--color-primary)}.pb-member-vip .vip-list .item .title[data-v-1267dd3c]{font-size:%?36?%}.pb-member-vip .vip-list .item .price[data-v-1267dd3c]{color:#e9bd6c;font-size:%?36?%;position:absolute;top:.5rem;right:.5rem}.pb-member-vip .vip-list .item .content[data-v-1267dd3c]{text-align:left;padding:.5rem 0;font-size:%?26?%}.pb-member-vip .pay-price[data-v-1267dd3c]{padding:.5rem .5rem}.pb-member-vip .pay-submit[data-v-1267dd3c]{padding:.5rem}",""]),t.exports=e}}]);