<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\PayCenter\Traits; use ModStart\Core\Exception\BizException; use ModStart\Core\Input\InputPackage; use ModStart\Core\Input\Response; use Module\PayCenter\Util\PayOrderUtil; trait PayCenterPerformTrait { private function performSubmitOrder($PeuNd, $G_Ybp, $DO0wP, $VhHmv, $oG0tD = array()) { goto k4Kdp; SZb9t: return Response::generate(0, null, array('payUrl' => $HjCh2, 'orderSecretId' => $HKhEA), $HjCh2); goto gvSxq; ne3s9: $UYUrz = $bz1sB->getTrimString('redirect'); goto k1Kp4; k1Kp4: $IfVKl = PayOrderUtil::prepareOrder($PeuNd, $G_Ybp, $DO0wP, $VhHmv, $UYUrz, $oG0tD); goto qq7xs; qq7xs: $HKhEA = PayOrderUtil::getOrderSecretId($IfVKl['id']); goto Uanko; k4Kdp: $bz1sB = InputPackage::buildFromInput(); goto ne3s9; Uanko: $HjCh2 = modstart_web_url('pay', array('order' => $HKhEA)); goto SZb9t; gvSxq: } private function performRedirectOrderPay($PeuNd, $G_Ybp, $DO0wP = null, $VhHmv = null, $UYUrz = null, $oG0tD = array()) { $BEdDh = $this->performRedirectOrderPayUrl($PeuNd, $G_Ybp, $DO0wP, $VhHmv, $UYUrz, $oG0tD); return Response::redirect($BEdDh['data']['payUrl']); } private function performRedirectOrderPayUrl($PeuNd, $G_Ybp, $DO0wP = null, $VhHmv = null, $UYUrz = null, $oG0tD = array()) { goto wsN1H; H1s0j: return Response::generateSuccessData(array('payUrl' => $HjCh2)); goto fB8ZY; wsN1H: $IfVKl = PayOrderUtil::prepareOrder($PeuNd, $G_Ybp, $DO0wP, $VhHmv, $UYUrz, $oG0tD); goto VLHN7; ZoXTR: $HjCh2 = modstart_web_url('pay') . "?order={$HKhEA}"; goto H1s0j; VLHN7: $HKhEA = PayOrderUtil::getOrderSecretId($IfVKl['id']); goto ZoXTR; fB8ZY: } }