<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\PayCenter\Util; use ModStart\Module\ModuleManager; use Module\PayCenter\Provider\PayCenterProvider; use Module\PayCenter\Type\PayType; class PayUtil { public static function hasPay() { goto Fh4sT; CLD96: foreach (PayCenterProvider::all() as $qhOVL) { if ($qhOVL->enable()) { return true; } } goto cVSpj; cVSpj: return false; goto u78Yx; WM3m1: if (self::isAlipayEnable()) { return true; } goto xhwtk; Fh4sT: if (self::isWechatEnable()) { return true; } goto WM3m1; xhwtk: if (self::isAlipayWebEnable()) { return true; } goto bRYTW; bRYTW: if (self::isMemberMoneyEnable()) { return true; } goto CLD96; u78Yx: } public static function isPayEnable($l9M__) { switch ($l9M__) { case PayType::ALIPAY: return self::isAlipayEnable(); case PayType::ALIPAY_WEB: case PayType::ALIPAY_MOBILE: return self::isAlipayWebEnable(); case PayType::WECHAT: case PayType::WECHAT_MOBILE: case PayType::WECHAT_MINI_PROGRAM: case PayType::WECHAT_H5: return self::isWechatEnable(); case PayType::MEMBER_MONEY: return self::isMemberMoneyEnable(); case PayType::WECHAT_APP: return true; default: goto Oimgr; WPEXb: if ($qhOVL) { return $qhOVL->enable(); } goto lsRVL; lsRVL: break; goto Ek63h; Oimgr: $qhOVL = PayCenterProvider::get($l9M__); goto WPEXb; Ek63h: } return false; } public static function isMemberMoneyEnable() { goto KR_9x; z6E8I: return boolval(modstart_config('payMemberMoneyOn', false)); goto j3N6E; B3LUj: if (!ModuleManager::getModuleConfigBoolean('Member', 'moneyEnable', false)) { return false; } goto z6E8I; KR_9x: if (!modstart_module_enabled('Member')) { return false; } goto B3LUj; j3N6E: } public static function isWechatEnable() { return boolval(modstart_config('payWechatOn', false)); } public static function isAlipayEnable() { return boolval(modstart_config('payAlipayOn', false)); } public static function isAlipayWebEnable() { return boolval(modstart_config('payAlipayWebOn', false)); } }