<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\Member\Auth; use Illuminate\Support\Facades\Session; use Module\Member\Util\MemberGroupUtil; use Module\Member\Util\MemberUtil; use Module\Member\Util\MemberVipUtil; class MemberUser { public static function id() { return intval(Session::get('memberUserId', 0)); } public static function user() { return Session::get('_memberUser', null); } public static function isMine($MqkYF) { return self::id() > 0 && self::id() == $MqkYF; } public static function isNotMine($MqkYF) { return !self::isMine($MqkYF); } public static function isLogin() { return self::id() > 0; } public static function isNotLogin() { return !self::isLogin(); } public static function isGroup($mJrzn) { goto S4G22; J1UYG: if (!is_array($mJrzn)) { $mJrzn = array(intval($mJrzn)); } goto gY_0L; S4G22: if (self::isNotLogin()) { return false; } goto J1UYG; gY_0L: $FPRpI = intval(self::get('groupId', 0)); goto Y8UjM; f9TZC: return in_array($FPRpI, $mJrzn); goto i2cEh; Y8UjM: if ($FPRpI == 0) { $FPRpI = MemberGroupUtil::defaultGroupId(); } goto f9TZC; i2cEh: } public static function isVip($G34RV) { goto OysYU; Fr_us: return in_array($v0rpv, $G34RV); goto A7mRV; IYmVd: $v0rpv = 0; goto xLP1h; Zzkgy: if (!is_array($G34RV)) { $G34RV = array(intval($G34RV)); } goto ZRehg; xLP1h: if (!empty($ZwEYi)) { $v0rpv = $ZwEYi['id']; } goto Fr_us; ZRehg: $ZwEYi = MemberVipUtil::getMemberVip(self::user()); goto IYmVd; OysYU: if (self::isNotLogin()) { return false; } goto Zzkgy; A7mRV: } public static function get($Mlv3V = null, $tC39v = null) { goto FCVEt; h3Vfh: if (null === $Mlv3V) { return $DcZz6; } goto JyeJP; FCVEt: $DcZz6 = self::user(); goto h3Vfh; JyeJP: return isset($DcZz6[$Mlv3V]) ? $DcZz6[$Mlv3V] : $tC39v; goto yeT1X; yeT1X: } public static function nickname() { return MemberUtil::viewName(self::user()); } }