<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace App\Exceptions; use Exception; use Illuminate\Database\Eloquent\ModelNotFoundException; use Illuminate\Foundation\Exceptions\Handler as ExceptionHandler; use ModStart\Core\Exception\BizException; use ModStart\Core\Exception\ExceptionReportHandleTrait; use Symfony\Component\HttpKernel\Exception\HttpException; use Symfony\Component\HttpKernel\Exception\NotFoundHttpException; class Handler extends ExceptionHandler { use ExceptionReportHandleTrait; protected $dontReport = array(HttpException::class, ModelNotFoundException::class, BizException::class); public function report(Exception $rwbVG) { $this->errorReportCheck($rwbVG); parent::report($rwbVG); } public function render($hgu9b, Exception $qnGVE) { goto ppj1Z; YeTzG: $OF9jl = $this->getExceptionResponse($qnGVE); goto J5kEO; ppj1Z: if ($qnGVE instanceof ModelNotFoundException) { $qnGVE = new NotFoundHttpException($qnGVE->getMessage(), $qnGVE); } goto YeTzG; J5kEO: if (null !== $OF9jl) { return $OF9jl; } goto k4Dy6; k4Dy6: return parent::render($hgu9b, $qnGVE); goto UDwlS; UDwlS: } protected function convertExceptionToResponse(Exception $qnGVE) { goto gqSsS; b354E: if (config('env.APP_DEBUG', true)) { return parent::convertExceptionToResponse($qnGVE); } goto BocyU; BocyU: return response()->view('errors.500', array('exception' => $qnGVE), 500); goto ahviL; E62Ts: if (null !== $OF9jl) { return $OF9jl; } goto b354E; gqSsS: $OF9jl = $this->getExceptionResponse($qnGVE); goto E62Ts; ahviL: } protected function shouldntReport(\Exception $qnGVE) { return $this->isExceptionIgnore($qnGVE) || parent::shouldntReport($qnGVE); } }