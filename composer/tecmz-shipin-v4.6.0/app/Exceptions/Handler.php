<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace App\Exceptions; use Exception; use Illuminate\Database\Eloquent\ModelNotFoundException; use Illuminate\Foundation\Exceptions\Handler as ExceptionHandler; use ModStart\Core\Exception\ExceptionReportHandleTrait; use Symfony\Component\HttpKernel\Exception\HttpException; use Symfony\Component\HttpKernel\Exception\NotFoundHttpException; class Handler extends ExceptionHandler { use ExceptionReportHandleTrait; protected $dontReport = array(HttpException::class, ModelNotFoundException::class); public function report(Exception $FveUX) { $this->errorReportCheck($FveUX); parent::report($FveUX); } public function render($vJywD, Exception $tkdFA) { goto UF3mg; llNTx: $ZtpOh = $this->getExceptionResponse($tkdFA); goto vIrmQ; vIrmQ: if (null !== $ZtpOh) { return $ZtpOh; } goto a43JM; a43JM: return parent::render($vJywD, $tkdFA); goto DnK3q; UF3mg: if ($tkdFA instanceof ModelNotFoundException) { $tkdFA = new NotFoundHttpException($tkdFA->getMessage(), $tkdFA); } goto llNTx; DnK3q: } protected function convertExceptionToResponse(Exception $tkdFA) { goto yS9nU; YaRM2: return response()->view('errors.500', array('exception' => $tkdFA), 500); goto BM5Ui; v9_Bs: if (null !== $ZtpOh) { return $ZtpOh; } goto kKgga; yS9nU: $ZtpOh = $this->getExceptionResponse($tkdFA); goto v9_Bs; kKgga: if (env('APP_DEBUG', true)) { return parent::convertExceptionToResponse($tkdFA); } goto YaRM2; BM5Ui: } protected function shouldntReport(\Exception $tkdFA) { return $this->isExceptionIgnore($tkdFA) || parent::shouldntReport($tkdFA); } }