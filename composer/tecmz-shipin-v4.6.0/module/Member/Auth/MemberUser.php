<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\Member\Auth; use Illuminate\Support\Facades\Session; use Module\Member\Util\MemberGroupUtil; use Module\Member\Util\MemberUtil; use Module\Member\Util\MemberVipUtil; class MemberUser { public static function id() { return intval(Session::get('memberUserId', 0)); } public static function user() { return Session::get('_memberUser', null); } public static function isMine($XK7hT) { return self::id() > 0 && self::id() == $XK7hT; } public static function isNotMine($XK7hT) { return !self::isMine($XK7hT); } public static function isLogin() { return self::id() > 0; } public static function isNotLogin() { return !self::isLogin(); } public static function isGroup($lWLtj) { goto AxhZS; eVkAs: return in_array($newWa, $lWLtj); goto vxGmz; AxhZS: if (self::isNotLogin()) { return false; } goto otqNW; LVRB0: if ($newWa == 0) { $newWa = MemberGroupUtil::defaultGroupId(); } goto eVkAs; otqNW: if (!is_array($lWLtj)) { $lWLtj = array(intval($lWLtj)); } goto b4kXK; b4kXK: $newWa = intval(self::get('groupId', 0)); goto LVRB0; vxGmz: } public static function isVip($zkSEe) { goto vy06u; VvCkp: return in_array($cYTj3, $zkSEe); goto PNnF5; HrSCk: $cYTj3 = 0; goto N8jGF; vy06u: if (self::isNotLogin()) { return false; } goto TLzt5; Rr328: $stOyg = MemberVipUtil::getMemberVip(self::user()); goto HrSCk; TLzt5: if (!is_array($zkSEe)) { $zkSEe = array(intval($zkSEe)); } goto Rr328; N8jGF: if (!empty($stOyg)) { $cYTj3 = $stOyg['id']; } goto VvCkp; PNnF5: } public static function get($F66vY = null, $yP5WM = null) { goto gVZ08; q6rsY: return isset($opaJu[$F66vY]) ? $opaJu[$F66vY] : $yP5WM; goto Kj4xe; gVZ08: $opaJu = self::user(); goto vDx5j; vDx5j: if (null === $F66vY) { return $opaJu; } goto q6rsY; Kj4xe: } public static function nickname() { return MemberUtil::viewName(self::user()); } }